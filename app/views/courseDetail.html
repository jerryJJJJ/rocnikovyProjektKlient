<div id="header">
    <h1 ng-if="!courseDetailCtrl.isNew">Kurz {{courseDetailCtrl.course['identifikacni-cislo']}}</h1>
    <h1 ng-if="courseDetailCtrl.isNew">Nový kurz</h1>
    <h3>{{courseDetailCtrl.drivingSchool['nazev']}}</h3>
<span class="delete-object" ng-if="!courseDetailCtrl.isNew">
    <button ng-click="courseDetailCtrl.deleteCourse(courseDetailCtrl.course)"
            class="btn btn-danger btn-xs">
        <span class="glyphicon glyphicon-remove"></span> Smazat kurz</button>
</span>
    <div id="logout">
        <a href="/#/autoskola/{{courseDetailCtrl.drivingSchool.id}}/kurzy">Zpět na výpis  |</a>
        <a href="">Odhlásit</a>
    </div>
    <div class="documents">
        <h3>Dokumenty</h3>
        <table class="table">
            <tr>
                <td>
                    <a ng-if="!courseDetailCtrl.isNew" href="">Přihláška do kurzu (.pdf)</a>
                </td>
            </tr>
        </table>
    </div>
    <table class="detail-table">
        <tr>
            <td>typ</td>
            <td ng-if="!courseDetailCtrl.isNew">{{courseDetailCtrl.course['typ']}}</td>
            <td ng-if="courseDetailCtrl.isNew">
                <select name="selectGroup" class="form-control" ng-model="courseDetailCtrl.course['typ']">
                    <option>A</option>
                    <option>B</option>
                    <option>C</option>
                    <option>D</option>
                    <option>T</option>
                </select>
            </td>
            <td>stav</td>
            <td>
                <select name="selectState" class="form-control" ng-model="courseDetailCtrl.course['stav']">
                    <option>{{courseDetailCtrl.course['stav']}}</option>
                    <option>T</option>
                </select>
            </td>
        </tr>
        <tr>
            <td>id</td>
            <td>{{courseDetailCtrl.course['identifikacni-cislo']}}</td>
            <td>od</td>
            <td><input type="date" ng-model="courseDetailCtrl.course['datum-od']" class="form-control"/></td>
        </tr>
        <tr>
            <td>počet studentů</td>
            <td>{{courseDetailCtrl.students.length}}</td>
            <td>do</td>
            <td><input type="date" ng-model="courseDetailCtrl.course['datum-do']" class="form-control"/></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td><button ng-click="courseDetailCtrl.saveCourse(courseDetailCtrl.course)"
                        ng-if="!courseDetailCtrl.isNew" class="btn btn-success">
                <span class="glyphicon glyphicon-floppy-save"></span> Uložit změny</button>
                <button ng-click="courseDetailCtrl.saveCourse(courseDetailCtrl.course)"
                        ng-if="courseDetailCtrl.isNew" class="btn btn-primary">
                    <span class="glyphicon glyphicon-floppy-save"></span> Vytvořit</button></td>
        </tr>
    </table>
</div>

<div ng-if="!courseDetailCtrl.isNew">
    <h3>Hodiny teorie</h3>
    <form novalidate class="css-form">
        <table class="table">
            <tr>
                <th>datum</th>
                <th>od<span class="value">[hh:mm]</span></th>
                <th>do<span class="value">[hh:mm]</span></th>
                <th>učitel</th>
                <th>typ výuky</th>
                <th></th>
            </tr>
            <tr ng-repeat="lesson in courseDetailCtrl.lessons">
                <td>{{lesson.datum}}</td>
                <td>{{lesson['cas-od']}}</td>
                <td>{{lesson['cas-do']}}</td>
                <td>{{lesson['vyucujici']}}</td>
                <td>{{lesson['typ-vyuky']}}</td>
                <td class="right">
                    <button ng-click="courseDetailCtrl.deleteLesson(lesson)" class="btn btn-danger btn-xs">
                        <span class="glyphicon glyphicon-remove"></span></button>
                </td>
            </tr>
            <tr>
                <td>
                    <input type="date" ng-model="courseDetailCtrl.newLesson['datum']" class="form-control">
                </td>
                <td>
                    <input type="time" ng-model="courseDetailCtrl.newLesson['cas-od']" class="form-control">
                </td>
                <td>
                    <input type="time" ng-model="courseDetailCtrl.newLesson['cas-do']" class="form-control">
                </td>
                <td>
                    <select name="selectTeachers" class="form-control" ng-model="courseDetailCtrl.newLesson.ucitel">
                        <option ng-repeat="teacher in courseDetailCtrl.teachers">{{teacher.prijmeni}}</option>
                    </select>
                </td>
                <td colspan="2">
                    <select name="selectStudents" class="form-control" ng-model="courseDetailCtrl.newLesson['typ-vyuky']">
                        <option>teorie</option>
                        <option>zdravověda</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="6" class="right">
                    <button ng-click="courseDetailCtrl.createLesson(lesson)" class="btn btn-success">
                        <span class="glyphicon glyphicon-floppy-save"></span> Uložit hodinu</button>
                </td>
            </tr>
        </table>
    </form>

    <h3>Seznam žáků</h3>
    <form novalidate class="css-form">
        <table class="table">
            <tr>
                <th>příjmení</th>
                <th>jméno</th>
                <th>matriční číslo</th>
                <th></th>
            </tr>
            <tr ng-repeat="student in courseDetailCtrl.students">
                <td><a href="#/autoskola/{{courseDetailCtrl.drivingSchool.id}}/studenti/{{student.id}}">{{student.prijmeni}}</a></td>
                <td>{{student.jmeno}}</td>
                <td>{{student['matricni-cislo']}}</td>
                <td class="right">
                    <button ng-click="courseDetailCtrl.deleteStudent(student)" class="btn btn-danger btn-xs">
                        <span class="glyphicon glyphicon-remove"></span></button>
                </td>
            </tr>
            <tr>
                <td><input type="text" class="form-control" ng-model="courseDetailCtrl.newStudent['prijmeni']"
                           placeholder="příjmení"></td>
                <td><input type="text" class="form-control" ng-model="courseDetailCtrl.newStudent['jmeno']"
                           placeholder="jméno"></td>
                <td colspan="2"><input type="text" class="form-control" ng-model="courseDetailCtrl.newStudent['matricni-cislo']"
                           placeholder="matriční číslo"></td>
            </tr>
            <tr>
                <td colspan="8" class="right">
                    <button ng-click="courseDetailCtrl.createStudent(student)" class="btn btn-success">
                        <span class="glyphicon glyphicon-floppy-save"></span> Uložit žáka</button>
                </td>
            </tr>
        </table>
    </form>
</div>